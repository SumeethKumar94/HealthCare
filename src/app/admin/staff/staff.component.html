<!-- navbar  -->
<nav class="navbar navbar-expand-lg shadow" style="background: #38b6ff">
  <div class="container-fluid">
    <a class="navbar-brand"
      ><img
        src="../../assets/images/logo.png"
        class="img-fluid img logo"
        alt=""
    /></a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      class="collapse navbar-collapse justify-content-end"
      id="navbarNavDropdown"
    >
      <ul class="navbar-nav mx-3">
        <!-- <li class="nav-item">
            <a class="nav-link active text-bold button2" routerLink="/doctor"
              >Dashboard</a
            >
          </li> -->
        <li class="nav-item">
          <a class="nav-link active text-bold button2" routerLink="/admin"
            >Dashboard</a
          >
        </li>

        <li class="nav-item dropdown active">
          <a
            class="nav-link dropdown-toggle active button2"
            id="navbarDropdownMenuLink"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="19"
              height="19"
              fill="currentColor"
              class="bi bi-person-circle mx-3"
              viewBox="0 0 16 16"
            >
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
              <path
                fill-rule="evenodd"
                d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"
              />
            </svg>
            {{ this.loggedUser }}
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <li>
              <a class="dropdown-item text-danger" (click)="logOut()">Logout</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- end navbar -->
<div class="container">
  <div class="row">
    <h2 class="display-6 mt-3 text-center">Add Staff</h2>
  </div>
  <div>
    <form
      name="staffform"
      #form="ngForm"
      class="mx-3"
      autocomplete="off"
      style="padding: 30px"
      (ngSubmit)="onSubmit(form, LoginId.value, Password.value)"
    >
      <!-- staff ID  making this as hidden-->
      <input
        type="hidden"
        name="StaffId"
        #StaffId="ngModel"
        [(ngModel)]="staffService.staffFormData.StaffId"
      />

      <!-- Staff first Name -->
      <div class="form-group">
        <label style="color: black">First Name : </label>
        <input
          type="text"
          name="FirstName"
          #FirstName="ngModel"
          [(ngModel)]="staffService.staffFormData.FirstName"
          class="form-control"
          placeholder="Enter  first name"
          minlength="2"
          maxlength="15"
          required
          [ngClass]="{ 'is-invalid': FirstName.touched && FirstName.invalid }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="FirstName.touched && FirstName.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="FirstName.errors.required">First Name is required!</div>
        </div>
      </div>

      <!-- Staff last  Name -->
      <div class="form-group">
        <label style="color: black">Last Name : </label>
        <input
          type="text"
          name="LastName"
          #LastName="ngModel"
          [(ngModel)]="staffService.staffFormData.LastName"
          class="form-control"
          placeholder="Enter  last name"
          minlength="1"
          maxlength="15"
          required
          [ngClass]="{ 'is-invalid': LastName.touched && LastName.invalid }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="LastName.touched && LastName.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="LastName.errors.required">Last Name is required!</div>
        </div>
      </div>

      <!-- Mobile number -->
      <div class="form-group">
        <label style="color: black">Phone : </label>
        <input
          type="number"
          name="Phone"
          #Phone="ngModel"
          [(ngModel)]="staffService.staffFormData.Phone"
          class="form-control"
          placeholder="Enter  your mobile number"
          minlength="10"
          maxlength="10"
          min="0000000000"
          max="9999999999"
          oninput="validity.valid||(value='');"
          required
          [ngClass]="{ 'is-invalid': Phone.touched && Phone.invalid }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="Phone.touched && Phone.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="Phone.errors.required">Phone number is required!</div>
        </div>
      </div>

      <!-- staff DOB -->
      <div class="form-group">
        <label> DOB : </label>
        <input
          type="date"
          name="DateOfBirth"
          #DateOfBirth="ngModel"
          [(ngModel)]="staffService.staffFormData.DateOfBirth"
          class="form-control"
          placeholder="Enter DateOfBirth"
          [max]="dmin"
          required
          [ngClass]="{
            'is-invalid': DateOfBirth.touched && DateOfBirth.invalid
          }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="DateOfBirth.touched && DateOfBirth.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="DateOfBirth.errors.required">
            DateOfBirth is required!
          </div>
        </div>
      </div>

      <!-- Address -->
      <div class="form-group">
        <label style="color: black"> Address: </label>
        <input
          type="text"
          name="Address"
          #Address="ngModel"
          [(ngModel)]="staffService.staffFormData.Address"
          class="form-control"
          placeholder="Enter Address"
          minlength="4"
          maxlength="30"
          required
          [ngClass]="{ 'is-invalid': Address.touched && Address.invalid }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="Address.touched && Address.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="Address.errors.required">Address is required!</div>
        </div>
      </div>

      <!-- Qualifications dropdown -->
      <div class="form-group">
        <label style="color: black">Qualification :</label>
        <select
          name="QualificationsId"
          id="QualificationsId"
          class="form-control"
          #QualificationsId="ngModel"
          [(ngModel)]="staffService.staffFormData.QualificationsId"
        >
          <option value="0" disabled></option>
          <option
            *ngFor="let q of staffService.qualify"
            value="{{ q.QualificationsId }}"
          >
            {{ q.Qualification }}
          </option>
        </select>
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="QualificationsId.touched && QualificationsId.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="QualificationsId.errors.required">
            Qualification is required!
          </div>
        </div>
      </div>

      <!-- roles dropdown -->
      <div class="form-group">
        <label style="color: black">Role :</label>
        <select
          name="RoleId"
          id="RoleId"
          class="form-control"
          #RoleId="ngModel"
          [(ngModel)]="staffService.staffFormData.RoleId"
        >
          <option value="0" disabled></option>
          <option *ngFor="let r of staffService.roles" value="{{ r.RoleId }}">
            {{ r.Role1 }}
          </option>
        </select>
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="RoleId.touched && RoleId.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="RoleId.errors.required">Role is required!</div>
        </div>
      </div>
      <div class="form-group">
        <label style="color: black"> Username: </label>
        <input
          type="text"
          name="Username"
          #LoginId
          class="form-control"
          placeholder="Enter Username"
          minlength="4"
          maxlength="10"
          required
          [ngClass]="{ 'is-invalid': LoginId.touched && LoginId.invalid }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="LoginId.touched && LoginId.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="Username.errors.required">Username is required!</div>
        </div>
      </div>

      <div class="form-group">
        <label style="color: black">Password: </label>
        <input
          type="password"
          name="Password"
          #Password
          class="form-control"
          placeholder="Enter Password"
          minlength="4"
          maxlength="15"
          required
          [ngClass]="{ 'is-invalid': Password.touched && Password.invalid }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="Password.touched && Password.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="Username.errors.required">Password is required!</div>
        </div>
      </div>
      <!-- IsActive -->
  
      <!-- 
        <div class="form-group">
            <label style="color: black">Email : </label>
            <input  name="Email" #Email="ngModel" email="true" [(ngModel)]="staffService.staffFormData.Email"
            
                class="form-control" placeholder="Enter email address" minlength="5" maxlength="30" required
                [ngClass]="{ 'is-invalid': Email.touched && Email.invalid }" />
             validation 
            <div class="validation-errors" *ngIf="Email.touched && Email.invalid"
                style="color: red; text-align: left">
                <div *ngIf="Email.errors.required">email address is required!</div>
                <div *ngIf="Email.errors?.email">  Email not valid.</div>
            </div>
        </div> -->

      <!-- staff DOB -->
      <div class="form-group">
        <label> DOB : </label>
        <input
          type="date"
          name="DateOfBirth"
          #DateOfBirth="ngModel"
          [(ngModel)]="staffService.staffFormData.DateOfBirth"
          class="form-control"
          placeholder="Enter DateOfBirth"
          required
          [ngClass]="{
            'is-invalid': DateOfBirth.touched && DateOfBirth.invalid
          }"
        />
        <!-- validation -->
        <div
          class="validation-errors"
          *ngIf="DateOfBirth.touched && DateOfBirth.invalid"
          style="color: red; text-align: left"
        >
          <div *ngIf="DateOfBirth.errors.required">
            DateOfBirth is required!
          </div>
        </div>
      </div>
      <div class="form-group m-3 mx-4">
        <div
          class="form-check"
          style="display: flex; flex-direction: row; justify-content: start"
        >
          <input
            type="checkbox"
            name="Status"
            id="Status"
            style="width: 0.3rem; height: 0.3rem"
            #Status="ngModel"
            [(ngModel)]="staffService.staffFormData.Status"
            class="form-check-input"
          />
          <label class="form-check-label p-0" style="padding: 0"
            >In Service</label
          >
        </div>
      </div>
      <!-- submit -->
      <br />
      <div class="form-group">
        <button
          type="submit"
          class="btn button2 form-control"
          [disabled]="!(form.valid && form.dirty)"
        >
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
